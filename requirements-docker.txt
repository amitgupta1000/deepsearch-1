# Docker Requirements for INTELLISEARCH
# Optimized for Python 3.10 container deployment
# Last updated: November 6, 2025

# ============================================================================
# CORE SYSTEM PACKAGES (install first for stability)
# ============================================================================
setuptools>=68.0.0
wheel>=0.41.0
pip>=23.0.0

# ============================================================================
# FOUNDATIONAL PACKAGES (critical base dependencies)
# ============================================================================
requests>=2.31.0,<3.0.0
python-dotenv>=1.0.0,<2.0.0
pydantic>=2.8.0,<3.0.0
nest_asyncio>=1.5.6,<2.0.0

# ============================================================================
# ASYNC & HTTP HANDLING
# ============================================================================
aiohttp>=3.9.0,<4.0.0
aiofiles>=23.2.0,<24.0.0
httpx>=0.25.2,<1.0.0

# ============================================================================
# LANGCHAIN ECOSYSTEM (workflow engine)
# ============================================================================
langchain>=1.0.0,<2.0.0
langchain-core>=1.0.0,<2.0.0
langchain-community>=0.4.0,<1.0.0
langchain-text-splitters>=1.0.0,<2.0.0
langgraph>=1.0.0,<2.0.0

# ============================================================================
# LLM PROVIDERS (Google AI - primary)
# ============================================================================
google-genai>=1.0.0,<2.0.0
langchain-google-genai>=3.0.0,<4.0.0

# ============================================================================
# WEB SCRAPING & CONTENT EXTRACTION
# ============================================================================
beautifulsoup4>=4.12.2,<5.0.0
requests-html>=0.10.0,<1.0.0
lxml>=5.0.0,<6.0.0
trafilatura>=2.0.0,<3.0.0

# ============================================================================
# DOCUMENT PROCESSING & PDF HANDLING
# ============================================================================
PyMuPDF>=1.26.0,<2.0.0
fpdf2>=2.8.0,<3.0.0

# ============================================================================
# SEARCH, RANKING & EMBEDDINGS
# ============================================================================
rank-bm25>=0.2.2,<1.0.0
faiss-cpu>=1.7.4,<2.0.0
sentence-transformers>=3.0.0,<4.0.0

# ============================================================================
# PERFORMANCE & OPTIMIZATION
# ============================================================================
ratelimit>=2.2.1,<3.0.0
# Optimized model downloads for container environments
hf_xet>=1.2.0,<2.0.0

# ============================================================================
# WEB FRAMEWORK (for API endpoints)
# ============================================================================
fastapi>=0.104.1,<1.0.0
uvicorn[standard]>=0.24.0,<1.0.0
python-multipart>=0.0.6,<1.0.0

# ============================================================================
# PRODUCTION SERVER (for container deployment)
# ============================================================================
gunicorn>=21.2.0,<22.0.0

# ============================================================================
# SECURITY & UTILITIES
# ============================================================================
# Certificate handling for HTTPS requests
certifi>=2023.7.22
# URL parsing and validation
urllib3>=2.0.0,<3.0.0

# ============================================================================
# CONTAINER-SPECIFIC OPTIMIZATIONS
# ============================================================================
# Memory-efficient JSON parsing
orjson>=3.9.0,<4.0.0

# Installation Notes for Docker:
# ==============================
# 1. This file is optimized for Python 3.10 in containerized environments
# 2. Version ranges ensure compatibility while allowing security updates
# 3. All dependencies are production-ready and tested
# 4. Install with: pip install --no-cache-dir -r requirements-docker.txt
# 5. For multi-stage builds, consider separating build and runtime dependencies
# 6. Use buildkit for faster container builds: DOCKER_BUILDKIT=1 docker build